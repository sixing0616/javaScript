<html>
<head>
  <title>Evernote Export</title>
  <basefont face="楷体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: 楷体;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1769"/>
<h1>1 Ajax基础知识</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#1C3387"><b>1、同步交互和异步交互</b></font><div><font color="#E30000">同步交互</font></div><div><font color="#E30000">* 客户端向服务器端发送请求—&gt;等待服务器端处理—&gt;处理完毕返回，这个期间客户端不能做任何其他事情。</font></div><div><font color="#E30000">* 发送方发出数据后，等接收方发回相应以后才发下一个数据包的通讯方式。</font></div><div><font color="#E30000">异步交互</font></div><div><font color="#E30000">* 客户端向服务器端发送请求—&gt;等待服务器端处理—&gt;处理完毕返回，这个期间客户端可以做其他事情。</font></div><div><font color="#E30000">* 发送方发出数据后，不等接收方发回相应，接着发送下个数据包的通讯方式。</font></div><div><br></div><div><font color="#1C3387"><b>2、Ajax的定义</b></font></div><div><font color="#E30000">* Ajax被认为是（Asynchronous Javascript and XML的缩写）</font></div><div><font color="#E30000">* 允许浏览器与服务器通信而无须刷新当前页面的技术都被叫做Ajax。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>3、Ajax模型与传统web模型的区别</b></font></div><div><font color="#E30000">Ajax模型</font></div><div><font color="#E30000">* 客户端浏览器向服务器发送请求，请求的是数据。</font></div><div><font color="#E30000">* 服务器向客户端浏览器相应的是数据。</font></div><div><font color="#E30000">* 在ajax模型中，客户端浏览器与服务器通信，传递的是数据。</font></div><div><font color="#E30000">传统web模型</font></div><div><font color="#E30000">* 客户端浏览器向服务器发送请求，请求的是整个页面</font></div><div><font color="#E30000">* 服务器相应客户端浏览器的是整个页面</font></div><div><font color="#E30000">* 在传统的web模型中，客户端浏览器与服务器通信，传递的是整个页面。</font></div><div><font color="#E30000"><br></font></div><div><b><font color="#1C3387">4、实现异步交互的技术</font></b></div><div><font color="#E30000">* Flash</font></div><div><font color="#E30000">* Java applet</font></div><div><font color="#E30000">* 框架：如果使用一组框架构造了一个网页，可以只更新其中一个框架，而不必惊动整个页面。</font></div><div><font color="#E30000">* 隐藏的iframe</font></div><div><font color="#E30000">* XMLHttpRequest:该对象是对JavaScript的一个扩展，可使网页与服务器进行通信。是创建Ajax应用的最佳选择。实际上通常把Ajax当成XMLHttpRequest对象的代名词。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>5、Ajax的工作原理</b></font></div><div><font color="#E30000">* Ajax的核心是JavaScript对象XmlHttpRequest</font></div><div><font color="#E30000">* XmlHttpRequest使您可以使用JavaScript向服务器提出请求并处理相应，而不阻塞用户。</font></div><div><font color="#E30000">* 用户的浏览器在执行任务时即装载了Ajax引擎。Ajax引擎用JavaScript语言编写，通常藏在一个隐藏的框架中。它负责编译用户界面及与服务器之间的交互。</font></div><div><font color="#E30000">* Ajax引擎允许用户与应用软件之间的交互过程异步进行，独立于用户与网络服务器间的交流。现在，可以用JavaScript调用Ajax引擎来代替产生一个Http的用户动作，内存中的数据编辑、页面导航、数据校验这些不需要重新载入整个页面的需求可以交给Ajax来执行。</font></div><div><img src="Ajax_files/Image.png" type="image/png" style="cursor: default;"/></div><div><br><font color="#1C3387"><b>6、Ajax包含的技术</b></font></div><div><font color="#E30000">AJAX（Asynchronous JavaScript and XML）并不是一项新技术，其实是多种技术的综合，包括JavaScript、XHTML和CSS、DOM、XML和XMLHttpRequest。</font></div><div><font color="#E30000">* 服务器端语言：服务器需要具备向浏览器发送特定信息的能力。Ajax与服务器端语言无关。</font></div><div><font color="#E30000">* XML是一种描述数据的格式。Ajax程序需要某种格式化的格式来在服务器和客户端之间传递信息，XML是其中一种选择。</font></div><div><font color="#E30000">* XHTML和CSS标准化呈现。</font></div><div><font color="#E30000">* DOM实现动态显示和交互。</font></div><div><font color="#E30000">* 使用XMLHTTP组建XMLHttpRequest对象进行异步数据读取。</font></div><div><font color="#E30000">* 使用JavaScript绑定和处理所有数据。</font></div><div><font color="#E30000"><br></font></div><div><font color="#1C3387"><b>7、Ajax的优点与缺点</b></font></div><div><font color="#E30000">优点：</font></div><div><font color="#E30000">* 最大的一点是页面无刷新，在页面内与服务器通信，给用户的体验非常好。</font></div><div><font color="#E30000">* 使用异步方式与服务器通信，不需要打断用户的操作，具有更加迅速的响应能力。</font></div><div><font color="#E30000">* 可以把以前一些服务器负担的工作转嫁给客户端，利用客户端闲置的能力来处理，减轻服务器和带宽的负担，节约空间和宽带租用成本。并且减轻服务器的负担，ajax的原则是“按需取数据”，可以最大程度的减少冗余请求，和响应对服务器造成的负担。</font></div><div><font color="#E30000">* 基于标准化的并被广泛支持的技术，不需要下载插件或者小程序。</font></div><div><font color="#E30000">缺点：</font></div><div><font color="#E30000"><span style="text-indent: -28px;">* AJAX</span><font style="text-indent: -28px;">大量使用了</font><font style="text-indent: -28px;">Javascript</font><font style="text-indent: -28px;">和</font><font style="text-indent: -28px;">AJAX</font><font style="text-indent: -28px;">引擎，而这个取决于浏览器的支持。</font><font style="text-indent: -28px;">IE5.0</font><font style="text-indent: -28px;">及以上、</font><font style="text-indent: -28px;">Mozilla1.0</font><font style="text-indent: -28px;">、</font><font style="text-indent: -28px;">NetScape7</font><font style="text-indent: -28px;">及以上版本才支持，</font><font style="text-indent: -28px;">Mozilla</font><font style="text-indent: -28px;">虽然也支持</font><font style="text-indent: -28px;">AJAX</font><font style="text-indent: -28px;">，但是提供XMLHttpRequest</font><font style="text-indent: -28px;">的方式不一样。所以，使用</font><font style="text-indent: -28px;">AJAX</font><font style="text-indent: -28px;">的程序必须测试针对各个浏览器的兼容性。 </font></font></div><div><font color="#E30000">* <span style="text-indent: -28px;">AJAX更新页面内容的时候并没有刷新整个页面，因此，网页的后退功能是失效的；有的用户还经常搞不清楚现在的数据是旧的还是已经更新过的。这个就需要在明显位置提醒用户</span><span style="text-indent: -28px;">“</span><span style="text-indent: -28px;">数据已更新</span><span style="text-indent: -28px;">”</span><span style="text-indent: -28px;">。 </span></font></div><div><font color="#E30000"><span style="text-indent: -28px;">* </span><span style="text-indent: -28px;">对流媒体的支持没有</span><font style="text-indent: -28px;">FLASH</font><font style="text-indent: -28px;">、</font><font style="text-indent: -28px;">Java Applet</font><font style="text-indent: -28px;">好。</font></font></div><div><font color="#E30000"><font style="text-indent: -28px;">* </font><span style="text-indent: -28px;">对搜索引擎的支持比较弱。</span></font></div><div><font color="#E30000"><span style="text-indent: -28px;">* </span><span style="text-indent: -28px;">一些手持设备（如手机、</span><font style="text-indent: -28px;">PDA</font><font style="text-indent: -28px;">等）现在还不能很好的支持</font><font style="text-indent: -28px;">Ajax</font><font style="text-indent: -28px;">。</font></font></div><div><font color="#E30000"><font style="text-indent: -28px;"><br></font></font></div><div><font color="#1C3387" style="text-indent: -28px;"><b>8、XMLHttpRequest对象</b></font></div><div><font color="#E30000"><span style="text-indent: 21pt;">&lt;1&gt;XMLHttpRequest</span><font style="text-indent: 21pt;">是</font><font style="text-indent: 21pt;">XMLHTTP</font><font style="text-indent: 21pt;">组件的对象，通过这个对象，</font><font style="text-indent: 21pt;">AJAX</font><font style="text-indent: 21pt;">可以像桌面应用程序一样只同服务器进行数据层面的交换，而不用每次都刷新界面，也不用每次将数据处理的工作都交给服务器来做；这样既减轻了服务器负担又加快了响应速度、缩短了用户等待的时间。 </font></font></div><div><font color="#E30000"><span style="text-indent: -21pt;">&lt;2&gt;XMLHttpRequest</span><font style="text-indent: -21pt;">最早是在</font><font style="text-indent: -21pt;">IE5</font><font style="text-indent: -21pt;">中以</font><font style="text-indent: -21pt;">ActiveX</font><font style="text-indent: -21pt;">组件的形式实现的。非</font><font style="text-indent: -21pt;">W3C</font><font style="text-indent: -21pt;">标准！</font></font><span style="color: rgb(227, 0, 0); text-indent: -21pt;">由于非标准所以实现方法不统一。</span></div><div><font color="#E30000"><span style="text-indent: -21pt;">  Internet Explorer</span><font style="text-indent: -21pt;">把</font><font style="text-indent: -21pt;">XMLHttpRequest</font><font style="text-indent: -21pt;">实现为一个</font><font style="text-indent: -21pt;">ActiveX</font><font style="text-indent: -21pt;">对象。</font></font></div><div><font color="#E30000"><span style="text-indent: -21pt;">  其他浏览器（Firefox、Safari、Opera</span><span style="text-indent: -21pt;">…</span><span style="text-indent: -21pt;">）把它实现为一个本地的JavaScript对象。</span></font></div><div><font color="#E30000"><span style="text-indent: -21pt;">&lt;3&gt;XMLHttpRequest</span><font style="text-indent: -21pt;">在不同浏览器上的实现是兼容的，所以可以用同样的方式访问</font><font style="text-indent: -21pt;">XMLHttpRequest</font><font style="text-indent: -21pt;">实例的属性和方法，而不论这个实例创建的方法是什么。</font></font></div><div><font color="#E30000"><span style="text-indent: -21pt;">&lt;4&gt;创建</span><font style="text-indent: -21pt;">XMLHttpRequest</font><font style="text-indent: -21pt;">对象</font></font></div><div><img src="Ajax_files/Image [1].png" type="image/png" style="cursor: default;"/></div><div><font color="#E30000">&lt;5&gt;XMLHttpReqeust对象的方法</font></div><div><font color="#E30000">abort() 停止当前请求。</font></div><div><font color="#E30000">getAllResponseHeaders() 把http请求的所有响应首部作为键/值对返回。</font></div><div><font color="#E30000">getResponseHeader(&quot;headerLabel&quot;) 返回指定首部的串值。</font></div><div><font color="#E30000">open(&quot;method&quot;,&quot;url&quot;) 建立对服务器的调用，method参数可以是GET、POST。url参数可以是相对URL或绝对URL。这个方法还包括3个可选参数。</font></div><div><font color="#E30000">send(content) 向服务器发送请求。</font></div><div><font color="#E30000">setReqeustHeader(&quot;label&quot;,&quot;value&quot;) 把指定首部设置为所提供的值。在设置任何首部之前必须先调用open()。</font></div><div><font color="#E30000">&lt;6&gt;XMLHttpRequest对象的属性</font></div><div><font color="#E30000">onreadystatechange 状态改变的事件触发器</font></div><div><font color="#E30000">readyState 对象状态(interger)：</font></div><div><font color="#E30000">0 = 未初始化</font></div><div><font color="#E30000">1 = 读取中</font></div><div><font color="#E30000">2 = 已读取</font></div><div><font color="#E30000">3 = 交互中</font></div><div><font color="#E30000">4 = 完成</font></div><div><font color="#E30000">responseText 服务器进程返回数据的文本版本。</font></div><div><font color="#E30000">responseXML 服务器进程返回数据的兼容DOM的XML文档对象。</font></div><div><font color="#E30000">status 服务器返回的状态码，如：404 = “文件未找到”、200 = “成功”。</font></div><div><font color="#E30000">statusText 服务器返回的状态文本信息。</font></div></div>
</div>
<hr>
<a name="708"/>
<h1>2 Ajax的实现步骤</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#328712"><b>&lt;1&gt;创建XMLHttpReqeust对象</b></font><div><font color="#328712"><b>&lt;2&gt;服务器端向客户端相应(注册监听)</b></font></div><div><font color="#E30000"><span style="text-indent: -21pt;">* XMLHttpRequest</span><font style="text-indent: -21pt;">对象的</font><font style="text-indent: -21pt;">onreadystatechange</font><font style="text-indent: -21pt;">属性</font></font></div><div><span style="text-indent: -21pt;"><font color="#E30000">  该事件处理函数由服务器触发，而不是用户。</font></span></div><div><font color="#E30000"><span style="text-indent: -21pt;">  在 </span><font style="text-indent: -21pt;">Ajax </font><font style="text-indent: -21pt;">执行过程中，服务器会通知客户端当前的通信状态。这依靠更新</font><font style="text-indent: -21pt;">XMLHttpRequest</font><font style="text-indent: -21pt;">对象的</font><font style="text-indent: -21pt;">readyState</font><font style="text-indent: -21pt;">来实现。改变</font><font style="text-indent: -21pt;">readyState</font><font style="text-indent: -21pt;">属性是服务器对客户端连接操作的一种方式。</font></font></div><div><font color="#E30000"><span style="text-indent: -21pt;">每次</span><font style="text-indent: -21pt;">readyState</font><font style="text-indent: -21pt;">属性的改变都会触发</font><font style="text-indent: -21pt;">readystatechange</font><font style="text-indent: -21pt;">事件。</font></font></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">* XMLHttpRequest</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">对象的</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">readyState </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">属性</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  readyState </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">属性表示</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">Ajax</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">请求的当前状态，</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">它的值用数字代表。</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  0 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">代表未初始化。 还没有调用 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">open </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方法</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  1 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">代表正在加载。 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">open </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方法已被调用，但 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">send </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方法还没有被调用</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  2 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">代表已加载完毕。</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">send </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">已被调用。请求已经开始 </span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  3 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">代表交互中。服务器正在发送响应</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  4 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">代表完成。响应发送完毕</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">* 每次</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">readyState</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">值的改变，都会触发</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">readystatechange</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">事件。如果把</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">onreadystatechange</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">事件处理函数赋给一个函数，那么每次</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">readyState</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">值的改变都会引发该函数的执行。</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">   readyState </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">值的变化会因浏览器的不同而有所差异。但是，当请求结束的时候，每个浏览器都会把</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">readyState</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">的值统一设为 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">4</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">。</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">* XMLHttpRequest</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">对象的</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">status</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">属性</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  服务器发送的每一个响应也都带有首部信息。三位数的状态码是服务器发送的响应中最重要的首部信息，并且属于超文本传输协议中的一部分。</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  常用状态码及其含义：</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  404 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">没找到页面</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">(not found)</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  403 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">禁止访问</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">(forbidden)</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  500 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">内部服务器出错</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">(internal service error)</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  200 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">一切正常</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">(ok)</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  304 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">没有被修改</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">(not modified)(</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">服务器返回</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">304</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">状态，表示源文件没有被修改</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">)</span></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">  在</span><font style="color: rgb(227, 0, 0); text-indent: -21pt;">XMLHttpRequest</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">对象中，服务器发送的状态码都保存在</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">status</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">属性里。通过把这个值和</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">200</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">或</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">304</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">比较，可以确保服务器是否已发送了一个成功的响应。</font></div><div><font color="#328712"><b><font style="text-indent: -21pt;">&lt;3&gt;</font><span style="text-indent: -28.35pt;">建立客户端与服务器端的通信连接</span></b></font></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">     * XMLHttpRequest</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">对象的</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">open ( method, url, asynch ) </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方法</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       XMLHttpRequest </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">对象的 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">open </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方法允许程序员用一个</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">Ajax</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">调用向服务器发送请求。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       method</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">：请求类型，类似 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">“</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">GET</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">”</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">或</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">”</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">POST</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">”</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">的字符串。若只想从服务器检索一个文件，而不需要发送任何数据，使用</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">GET(</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">可以在</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">GET</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">请求里通过附加在</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">URL</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">上的查询字符串来发送数据，不过数据大小限制为</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">2000</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">个字符</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">)</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">。若需要向服务器发送数据，用</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">POST</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       url：</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">路径字符串，指向你所请求的服务器上的那个文件。可以是绝对路径或相对路径。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       asynch</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">：表示请求是否要异步传输，默认值为</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">true(</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">异步</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">)</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">。指定</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">true</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">，在读取后面的脚本之前，不需要等待服务器的相应。指定</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">false</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">，当脚本处理过程经过这点时，会停下来，一直等到</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">Ajax</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">请求执行完毕再继续执行。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">     * 如果请求方式是</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">”</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">POST</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">”</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方式的话，需要再</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">open( )</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方法后，调用</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">setRequestHeader(header,value)</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">方法</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       当浏览器向服务器请求页面时，它会伴随这个请求发送一组首部信息。这些首部信息是一系列描述请求的元数据</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">(metadata)</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">。首部信息用来声明一个请求是 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">GET </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">还是 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">POST</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       Ajax</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">请求中，发送首部信息的工作可以由 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">setRequestHeader</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">完成。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       参数</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">header</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">： 首部的名字</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">;  </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">参数</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">value</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">：首部的值。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       如果用 </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">POST </span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">请求向服务器发送数据，需要将</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">“</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">Content-type</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">”</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">的首部设置为</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">“</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">application/x-www-form-urlencoded</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">”</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">.</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">它会告知服务器正在发送数据，并且数据已经符合</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">URL</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">编码了。</span></div><div style="text-indent: -37px;"><span style="color: rgb(227, 0, 0); text-indent: -21pt;">       该方法必须在</span><font style="color: rgb(227, 0, 0); text-indent: -21pt;">open()</font><font style="color: rgb(227, 0, 0); text-indent: -21pt;">之后才能调用。</font></div><div style="text-indent: -37px;"><font style="color: rgb(227, 0, 0); text-indent: -21pt;">   </font> <font color="#328712"><b><font style="text-indent: -21pt;">&lt;4&gt;</font><span style="text-indent: -28.35pt;">客户端向服务器端发送请求</span></b></font></div><div style="text-indent: -37px;"><span style="text-indent: -21pt; color: rgb(227, 0, 0);">     * XMLHttpRequest</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">对象的</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">send(data)</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">方法</span></div><div style="text-indent: -28px;"><font color="#E30000">      </font><span style="text-indent: -21pt; color: rgb(227, 0, 0);">如果请求方式是</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">”</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">GET</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">”</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">方式的话，</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">send( )</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">方法发送请求数据，服务器端接受不到参数。</span></div><div style="text-indent: -28px;"><span style="text-indent: -21pt; color: rgb(227, 0, 0);">      如果请求方式是</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">”</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">POST</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">”</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">方式的话，</span><font style="text-indent: -21pt; color: rgb(227, 0, 0);">send ( ) </font><font style="text-indent: -21pt; color: rgb(227, 0, 0);">方法发送请求数据，服务器端可以接受参数。</font></div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">      </font></div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">  </font><font color="#E30000">      </font><img style="cursor: default;cursor: default;"></img></div><div style="text-indent: -28px;">   <span style="color: rgb(227, 0, 0); text-indent: -21pt;">TestServlet.java</span></div><div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">   </font><font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">TestServlet </span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>extends</b></span></font><font face="Courier New" size="2"><span style="font-size: 10pt;"> HttpServlet {</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">doGet(HttpServletRequest request, HttpServletResponse response)</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">ServletException, IOException {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            response.setContentType(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;text/html&quot;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            PrintWriter out = response.getWriter();</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;connection server success&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.println(request.getParameter(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;a&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">));</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.println(request.getParameter(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;b&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">));</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            System.</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size: 10pt;"><i>out</i></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">.println(request.getParameter(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;c&quot;</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">));</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            out.</span> <span style="font-size: 10pt; background-color: rgb(212, 212, 212); background-position: initial initial; background-repeat: initial initial;">println</span><span style="font-size: 10pt;">(</span></font><font color="#2A00FF" face="Courier New" size="2"> <span style="font-size: 10pt;">&quot;get connection server successful!&quot;</span></font><font face="Courier New" size="2"><span style="font-size: 10pt;">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>public</b></span></font><font face="Courier New" size="2"> </font><font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">doPost(HttpServletRequest request, HttpServletResponse response)</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">                  </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size: 10pt;"><b>throws</b></span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">ServletException, IOException {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">            doGet(request, response);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">   web.xml</font></div><div style="text-indent: -28px;"><font color="#E30000" style="text-indent: -21pt;">   </font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;?</span></font><font color="#3F7F7F" face="Courier New" size="2"> <span style="font-size: 10pt;">xml </span></font><font color="#7F007F" face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;1.0&quot; </span></font><font color="#7F007F" face="Courier New" size="2"><span style="font-size: 10pt;">encoding</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;UTF-8&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">?&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"> <span style="font-size: 10pt;">web-app </span></font><font color="#7F007F" face="Courier New" size="2"><span style="font-size: 10pt;">version</span></font> <font face="Courier New" size="2"><span style="font-size: 10pt;">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;2.5&quot;</span></font></div><div align="left"><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size: 10pt;">xmlns</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></font></div><div align="left"><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size: 10pt;">xmlns:xsi</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></font></div><div align="left"><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size: 10pt;">xsi:schemaLocation</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">&quot;http://java.sun.com/xml/ns/javaee</span></font></div><div align="left"><font color="#2A00FF" face="Courier New" size="2"><span style="font-size: 10pt;">      http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">description</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">This is the description of my J2EE component</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"> <span style="font-size: 10pt;">description</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">display-name</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">This is the display name of my J2EE component</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"> <span style="font-size: 10pt;">display-name</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-name</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">TestServlet</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-name</span></font><font color="#008080" face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-class</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">app.servlet.TestServlet</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-class</span></font><font color="#008080" face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size: 10pt;"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-mapping</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-name</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">TestServlet</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-name</span></font><font color="#008080" face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">url-pattern</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">/testServlet</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">url-pattern</span></font><font color="#008080" face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">servlet-mapping</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">      </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file-list</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">    </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font><font face="Courier New" size="2"> <span style="font-size: 10pt;">index.jsp</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file</span></font><font color="#008080" face="Courier New" size="2"> <span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size: 10pt;">  </span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size: 10pt;">welcome-file-list</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"> <span style="font-size: 10pt;">web-app</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size: 10pt;">&gt;</span></font></div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);"><br></font></div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">   test.js</font></div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">   </font><font color="#6A0081" face="Courier New" style="font-size: 13px;">function createXmlHttpRequest(){</font></div><font color="#6A0081" face="Courier New" style="font-size: 13px;">     var xmlHttp;<br>
     try{    //Firefox, Opera 8.0+, Safari<br>
          xmlHttp=new XMLHttpRequest();<br>
     }catch (e){<br>
          try{    //Internet Explorer<br>
               xmlHttp=new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);<br>
          }catch (e){<br>
               try{<br>
                    xmlHttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);<br>
               }catch (e){}  <br>
          }<br>
     }<br>
     return xmlHttp;<br>
}<br><br>
window.onload = function(){<br>
     document.getElementById(&quot;ok&quot;).onclick = function(){<br>
          //1.创建XMLHttpRequest对象<br>
          var xhr = createXmlHttpRequest();<br>
          /**<br>
          * 2.建立客户端与服务器端的连接<br>
          */<br>
          xhr.open(&quot;POST&quot;,&quot;testServlet?timeStamp=&quot; + new Date().getTime() + &quot;&amp;c=9&quot;,true);<br>
          //xhr.open(&quot;GET&quot;,&quot;testServlet?timeStamp=&quot; + new Date().getTime() + &quot;&amp;c=9&quot;,true);<br>
          //3.客户端向服务器端发送请求数据<br>
          //send()如果请求类型是GET方式的话，客户端发送请求数据，服务器端接收不到<br>
          //get方式的时候相当于xhr.send(null);<br>
          //xhr.send(&quot;a=7&amp;b=8&quot;);<br>
          //不过可以通过在xhr.open的servlet路径后面加参数发送数据<br>
          //xhr.open(&quot;GET&quot;,&quot;../testServlet?timeStamp=&quot; + new Date().getTime() + &quot;&amp;c=9&quot;,true);<br>
          //这里之所以加上时间参数是为了防止缓存<br>
          //如果请求类型是POST方式的话，需要设置请求首部信息<br>
          xhr.setRequestHeader(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);<br>
          xhr.send(&quot;a=7&amp;b=8&quot;);<br>
          //4.服务器端向客户端进行响应<br>
          xhr.onreadystatechange = function(){<br>
               //alert(xhr.readyState);<br>
               //由于被触发了多次，所以上面会打印多次<br>
               if(xhr.readyState==4){<br>
                    //响应发送回来之后，还要根据Status确定有没有成功<br>
                    if(xhr.status==200){<br>
                         var data = xhr.responseText;<br>
                         alert(data);<br>
                    }<br>
               }<br>
          }<br>
     }<br>
};</font><div><font color="#6A0081" face="Courier New" size="2"><br></font><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">   index.jsp</font></div></div></div><div style="text-indent: -28px;"><font style="text-indent: -21pt; color: rgb(227, 0, 0);">   </font><font color="#BF5F3F" face="Courier New" size="2"><span style="font-size:10pt">&lt;%@</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">page</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">language</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;java&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">import</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;java.util.*&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;UTF-8&quot;</span></font> <font color="#BF5F3F" face="Courier New" size="2"><span style="font-size:10pt">%&gt;</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt">HTML</span></font> <font color="#808080" face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">html</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">head</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">title</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">My JSP 'index.jsp' starting page</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">title</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">meta</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;pragma&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">content</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;no-cache&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">meta</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;cache-control&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">content</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;no-cache&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">meta</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">http-equiv</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;expires&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">content</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;0&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">src</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;test/test.js&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">head</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">body</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">   </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;button&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;ok&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;ok&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">/&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">body</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">html</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><br></font></div><div align="left"><div><span style="color: rgb(227, 0, 0); text-align: -webkit-auto; text-indent: -28px;">执行结果：</span></div></div><div align="left"><img src="Ajax_files/Image [2].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><br></div><div align="left"><font color="#E30000">Demo1</font></div><div align="left"><img src="Ajax_files/Image [3].png" type="image/png" style="cursor: default;cursor: default;"/></div><div align="left"><font color="#E30000">RegisterServlet.java</font></div><div align="left"><div align="left"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">RegisterServlet</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HttpServlet {</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">doPost(HttpServletRequest request, HttpServletResponse response)</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ServletException, IOException {</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            response.setContentType(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/html;charset=utf-8&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            PrintWriter out = response.getWriter();</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            String username = request.getParameter(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;username&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            System.</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;username = &quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">+username);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//查询数据库表</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">(username==</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>null</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">||</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">.equals(username)){</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;请输入你的用户名！&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>if</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">(username.equals(</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;sa&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">)){</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;该用户名已存在！&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>else</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">{</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;该用户名可以使用！&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0);">register.jsp</span></div><div align="left"><font color="#BF5F3F" face="Courier New" size="2"><span style="font-size:10pt">&lt;%@</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">page</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">language</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;java&quot; </span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;utf-8&quot;</span></font> <font color="#BF5F3F" face="Courier New" size="2"><span style="font-size:10pt">%&gt;</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt">HTML</span></font> <font color="#808080" face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">html</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">head</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">title</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">校验用户名是否存在</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">title</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">src</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;./register.js&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">head</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">body</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">center</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">form</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">action</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot; </span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">enctype</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;application/x-www-form-urlencoded&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">h3</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">请填写用户注册信息</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">h3</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">table </span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">border</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;1&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">用户名:</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;username&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;username&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">div</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;divcheck&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">div</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                         </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;button&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;checkusername&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;查看用户名&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;checkusername&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">密码:</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;password&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;psw&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">确认密码:</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;password&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;confpsw&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">出生日期:</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                        </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">input</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;birthday&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">td</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">tr</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">table</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">form</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">center</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">body</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">html</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><div><span style="color: rgb(227, 0, 0);">register.jsp</span></div></div><div align="left"><font color="#6A0081" face="Courier New" style="font-size: 13px;">window.onload = function(){<br>
     document.getElementById(&quot;checkusername&quot;).onclick = function(){<br>
          var username = document.getElementById(&quot;username&quot;).value;<br>
         <br>
          var xhr = createXmlHttpRequest();<br>
         <br>
          xhr.onreadystatechange = function(){<br>
               if(xhr.readyState==4){<br>
                    if(xhr.status==200){<br>
                         var data = xhr.responseText;<br>
                        <br>
                         document.getElementById(&quot;divcheck&quot;).innerHTML = data;<br>
                    }<br>
               }<br>
          }<br>
          //这里之所以要写上../，是因为此js是在一个webroot下的一个包内<br>
          xhr.open(&quot;POST&quot;,&quot;../registerServlet&quot;,true);<br>
         <br>
          xhr.setRequestHeader(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;);<br>
         <br>
          xhr.send(&quot;username=&quot;+username);<br>
     }<br>
}<br></font><span style="font-size: 13px;"><font color="#6A0081" face="Courier New">function createXmlHttpRequest(){</font></span></div><font color="#6A0081" face="Courier New"><span style="font-size: 13px;">     var xmlHttp;</span><br style="font-size: 13px;"><span style="font-size: 13px;">     try{    //Firefox, Opera 8.0+, Safari</span><br style="font-size: 13px;"><span style="font-size: 13px;">          xmlHttp=new XMLHttpRequest();</span><br style="font-size: 13px;"><span style="font-size: 13px;">     }catch (e){</span><br style="font-size: 13px;"><span style="font-size: 13px;">          try{    //Internet Explorer</span><br style="font-size: 13px;"><span style="font-size: 13px;">               xmlHttp=new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);</span><br style="font-size: 13px;"><span style="font-size: 13px;">          }catch (e){</span><br style="font-size: 13px;"><span style="font-size: 13px;">               try{</span><br style="font-size: 13px;"><span style="font-size: 13px;">                    xmlHttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br style="font-size: 13px;"><span style="font-size: 13px;">               }catch (e){} </span><br style="font-size: 13px;"><span style="font-size: 13px;">          }</span><br style="font-size: 13px;"><span style="font-size: 13px;">     }</span><br style="font-size: 13px;"><span style="font-size: 13px;">     return xmlHttp;</span><br style="font-size: 13px;"><span style="font-size: 13px;">}</span></font><div align="left" style="font-size: 13px;"><font color="#6A0081" face="Courier New"><br></font></div><div align="left" style="font-size: 13px;"><div><span style="color: rgb(227, 0, 0); font-size: medium;">Demo2   </span></div><div><img src="Ajax_files/Image [4].png" type="image/png" style="cursor: default;"/></div><div><span style="color: rgb(227, 0, 0); font-size: medium;">xmlFile.jsp</span></div><div align="left"><font color="#BF5F3F" face="Courier New" size="2"><span style="font-size:10pt">&lt;%@</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">page</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">language</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;java&quot; </span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">pageEncoding</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;utf-8&quot;</span></font> <font color="#BF5F3F" face="Courier New" size="2"><span style="font-size:10pt">%&gt;</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;!</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">DOCTYPE</span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt">HTML</span></font> <font color="#808080" face="Courier New" size="2"><span style="font-size:10pt">PUBLIC</span></font> <font color="#000080" face="Courier New" size="2"><span style="font-size:10pt">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">html</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">head</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">title</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">级联菜单</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">title</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">type</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/javascript&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">src</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;./xmFile.js&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">script</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">head</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">body</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;province&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;province&quot;</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">请选择....</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">    </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;city&quot;</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">name</span></font><font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;city&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font> <font color="#7F007F" face="Courier New" size="2"><span style="font-size:10pt">value</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">=</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&quot;</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">请选择.....</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font> <font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">option</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">select</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"> </span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">body</span></font> <font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&lt;/</span></font><font color="#3F7F7F" face="Courier New" size="2"><span style="font-size:10pt">html</span></font><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt">&gt;</span></font></div><div align="left"><font color="#008080" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><span style="color: rgb(227, 0, 0); font-size: medium;">xmlFile.js</span></div><div>window.onload = function(){<br>
     var xhr = createXmlHttpRequest();<br>
    <br>
     xhr.onreadystatechange = function(){<br>
          if(xhr.readyState==4){<br>
               if(xhr.status==200){<br>
                    var docXml = xhr.responseXML;<br>
                   <br>
                    var provinceXmlElements = docXml.getElementsByTagName(&quot;province&quot;);<br>
                   <br>
                    var provinceElement = document.getElementById(&quot;province&quot;);<br>
                   <br>
                    for(var i=0;i&lt;provinceXmlElements.length;i++){<br>
                         var provinceXmlElement = provinceXmlElements[i];<br>
                        <br>
                         var provinceXmlValue = provinceXmlElement.getAttribute(&quot;name&quot;);<br>
                        <br>
                         var optionElement = document.createElement(&quot;option&quot;);<br>
                         optionElement.setAttribute(&quot;value&quot;,provinceXmlValue);<br>
                         var text = document.createTextNode(provinceXmlValue);<br>
                         optionElement.appendChild(text);<br>
                        <br>
                         provinceElement.appendChild(optionElement);<br>
                    }<br>
                   <br>
                    provinceElement.onchange = function(){<br>
                         var cityElement = document.getElementById(&quot;city&quot;);<br>
                         var optionElements = cityElement.getElementsByTagName(&quot;option&quot;);<br>
                         for(var z=1;z&lt;optionElements.length;z++){<br>
                              cityElement.removeChild(optionElements[1]);<br>
                              z--;<br>
                         }<br>
                        <br>
                         var provinceValue = this.value;<br>
                        <br>
                         for(var i=0;i&lt;provinceXmlElements.length;i++){<br>
                              var provinceXmlElement = provinceXmlElements[i];<br>
                             <br>
                              var provinceXmlValue = provinceXmlElement.getAttribute(&quot;name&quot;);<br>
                             <br>
                              if(provinceValue==provinceXmlValue){<br>
                                   var cityXmlElements = provinceXmlElement.getElementsByTagName(&quot;city&quot;);<br>
                                  <br>
                                   for(var j=0;j&lt;cityXmlElements.length;j++){<br>
                                        var cityXmlElement = cityXmlElements[j];<br>
                                       <br>
                                        var cityXmlValue = cityXmlElement.text;<br>
                                       <br>
                                        var optionElement = document.createElement(&quot;option&quot;);<br>
                                        optionElement.setAttribute(&quot;value&quot;,cityXmlValue);<br>
                                        var text = document.createTextNode(cityXmlValue);<br>
                                        optionElement.appendChild(text);<br>
                                       <br>
                                        cityElement.appendChild(optionElement);<br>
                                       <br>
                                   }<br>
                                  <br>
                              }<br>
                         }<br>
                        <br>
                    }<br>
               }<br>
          }<br>
     }<br>
    <br>
     xhr.open(&quot;get&quot;,&quot;../xmlServlet&quot;,true);<br>
    <br>
     xhr.send(null);<br>
}<br><br>
     function createXmlHttpRequest(){<br>
          var xmlHttp;<br>
          try{    //Firefox, Opera 8.0+, Safari<br>
               xmlHttp=new XMLHttpRequest();<br>
          }catch (e){<br>
               try{    //Internet Explorer<br>
                    xmlHttp=new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);<br>
               }catch (e){<br>
                    try{<br>
                         xmlHttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);<br>
                    }catch (e){} <br>
               }<br>
          }<br>
          return xmlHttp;<br>
     }</div><div><br></div><div><span style="color: rgb(227, 0, 0); font-size: medium;">XmlServlet.java</span></div><div align="left"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">XmlServlet</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>extends</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">HttpServlet {</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">doGet(HttpServletRequest request, HttpServletResponse response)</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">                  </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>throws</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ServletException, IOException {</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#3F7F5F" face="Courier New" size="2"><span style="font-size:10pt">//如果响应数据格式是xml，设置响应首部信息&quot;Content-Type&quot;为&quot;text/xml&quot;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            response.setContentType(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;text/xml;charset=utf-8&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            PrintWriter out = response.</span> <span style="font-size:10pt; background:#d4d4d4">getWriter</span><span style="font-size:10pt">();</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;china&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;province name='吉林省'&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;长春&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;吉林市&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;四平&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;松原&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;通化&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;/province&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;province name='辽宁省'&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;沈阳&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;大连&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;鞍山&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;抚顺&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;铁岭&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;/province&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;province name='山东省'&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;济南&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;青岛&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;威海&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;烟台&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;city&gt;潍坊&lt;/city&gt;&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;/province&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            out.println(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;&lt;/china&gt;&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div></div></div></div></div>
</div>
<hr>
<a name="1284"/>
<h1>3 Ajax的数据格式</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div><font color="#E30000">&lt;1&gt;HTML</font></div><div><span style="color: rgb(227, 0, 0); text-indent: -21pt;">   * XMLHttpRequest</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">对象的</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">responseText</span><span style="color: rgb(227, 0, 0); text-indent: -21pt;">属性</span></div><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">responseText属性包含了从服务器发送的数据。它是一个HTML,XML或普通文本，这取决于服务器发送的内容。</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">当readyState属性值变成4时,responseText属性才可用，表明Ajax请求已经结束。</font></p><p style="margin-left: 42pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">* 优点：</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">从服务器端发送的HTML代码在浏览器端不需要用JavaScript进行解析。</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">HTML 的可读性好。</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">HTML 代码块与innerHTML属性搭配，效率高。</font></p><p style="margin-left: 42pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">* 缺点：</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">若需要通过 AJAX 更新一篇文档的多个部分，HTML不合适(拆串)。</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">innerHTML并非DOM标准。</font></p><p style="margin-left: 28.35pt; text-indent: -28.35pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">&lt;2&gt;XML</font></p><div><font color="#E30000">   * XMLHttpRequest对象的responseXML属性</font></div><div style="text-indent: -28px;"><font color="#E30000">          </font><span style="text-indent: -21pt; color: rgb(227, 0, 0);">只用服务器发送了带有正确首部信息的数据时，</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">responseXML</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">属性才是可用的。</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">MIME</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">类型必须为</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">text/xml</span><span style="text-indent: -21pt; color: rgb(227, 0, 0);">。</span></div><p style="margin-left: 42pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">* 优点：</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">XML是一种通用的数据格式。</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">不必把数据强加到已定义好的格式中，而是要为数据自定义合适的标记。</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">利用 DOM 可以完全掌控文档。</font></p><p style="margin-left: 42pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">* 缺点：</font></p><p style="margin-left: 63pt; text-indent: -21pt; margin-bottom: 0pt; margin-top: 0pt;"><font color="#E30000">如果文档来自于服务器，就必须得保证文档含有正确的首部信息。若文档类型不正确，那么responseXML的值将是空的。</font></p><div><font color="#E30000">       当浏览器接收到长的<font>XML</font><font>文件后，</font><font>DOM</font><font>解析可能会很复杂。</font></font></div><div><font color="#E30000"><font><br></font></font></div><div><font color="#E30000"><font><br></font></font></div></div>
</div>
<hr>
<a name="330"/>
<h1>4 xstrem</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><font color="#E30000">1、xstream可以完成javaBean对象与xml格式的转换</font><div><font color="#E30000">&lt;1&gt;导入xpp3_min-1.1.4c.jar、xstream-1.4.4.jar</font></div><div><font color="#E30000">&lt;2&gt;写bean类</font></div><div><font color="#E30000">&lt;3&gt;转化为xml类型并且打印出来</font></div><div><font color="#E30000"><br></font></div><div><font color="#E30000">City.xml</font></div><div align="left"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">City {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Integer</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">City(Integer id,String name){</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= id;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= name;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Integer getId() {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setId(Integer id) {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= id;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getName() {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setName(String name) {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= name;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#E30000">Province.xml</font></div><div align="left"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Province {</span></font></div><div align="left"><font color="#010101" face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Integer</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>private</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">List&lt;City&gt;</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">cities</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Province(Integer id, String name, List&lt;City&gt; cities) {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= id;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= name;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">cities</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= cities;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Integer getId() {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setId(Integer id) {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">id</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= id;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">String getName() {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setName(String name) {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">name</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= name;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">List&lt;City&gt; getCities() {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>return</b></span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">cities</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">setCities(List&lt;City&gt; cities) {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>this</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.</span></font><font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt">cities</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">= cities;</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#E30000">Test.java</font></div><div align="left"><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">Test {</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      </span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>public</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>static</b></span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>void</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">main(String[] args){</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;City&gt; cities =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ArrayList&lt;City&gt;();</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            City city1 =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">City(1,</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;长春&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            City city2 =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">City(2,</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;吉林&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            City city3 =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">City(3,</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;四平&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            City city4 =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">City(4,</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;通化&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            cities.add(city1);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            cities.add(city2);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            cities.add(city3);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            cities.add(city4);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            List&lt;</span> <span style="font-size:10pt; background:#d4d4d4">Province</span><span style="font-size:10pt">&gt; provinces =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">ArrayList&lt;</span> <span style="font-size:10pt; background:#d4d4d4">Province</span><span style="font-size:10pt">&gt;();</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span> <span style="font-size:10pt; background:#d4d4d4">Province</span> <span style="font-size:10pt">p1 =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt; background:#d4d4d4">Province</span> <span style="font-size:10pt">(1,</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;吉林省&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">,cities);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            provinces.add(p1);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            XStream xstream =</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>new</b></span></font> <font face="Courier New" size="2"><span style="font-size:10pt">XStream();</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            xstream.alias(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;province&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span> <span style="font-size:10pt; background:#d4d4d4">Province</span><span style="font-size:10pt">.</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            xstream.alias(</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;city&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">, City.</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            xstream.useAttributeFor(Province.</span></font> <font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font><font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;id&quot;</span></font> <font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            xstream.useAttributeFor(</span> <span style="font-size:10pt; background:#d4d4d4">Province</span><span style="font-size:10pt">.</span></font><font color="#7F0055" face="Courier New" size="2"><span style="font-size:10pt"><b>class</b></span></font><font face="Courier New" size="2"><span style="font-size:10pt">,</span></font> <font color="#2A00FF" face="Courier New" size="2"><span style="font-size:10pt">&quot;name&quot;</span></font><font face="Courier New" size="2"><span style="font-size:10pt">);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            </span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            String xml = xstream.toXML(p1);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">            System.</span></font> <font color="#0000C0" face="Courier New" size="2"><span style="font-size:10pt"><i>out</i></span></font><font face="Courier New" size="2"><span style="font-size:10pt">.println(xml);</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">      }</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt">}</span></font></div><div align="left"><font face="Courier New" size="2"><span style="font-size:10pt"><br></span></font></div><div><font color="#E30000">注：利用Person newJoe = (Person)xstream.fromXML(xml)方法可以将XML数据转化为javabean对象。</font></div></div>
</div></body></html> 